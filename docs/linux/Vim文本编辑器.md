## Vim 文本编辑器

 * 命令模式：控制光标移动，可对文本进行复制、粘贴、删除和查找等工作。
 * 输入模式：正常的文本录入。
 * 末行模式：保存或退出文档，以及设置编辑环境。

![](https://pikachu666.oss-cn-hongkong.aliyuncs.com/images/40c910f5-1fe3-4740-aac6-6177383b7307.png)



## 光标移动

|命令	|作用
|:-----|:----
|h 或 向左方向鍵(←)	|游標向左移動一個字元
|j 或 向下方向鍵(↓)	|游標向下移動一個字元
|k 或 向上方向鍵(↑)	|游標向上移動一個字元
|l 或 向右方向鍵(→)	|游標向右移動一個字元
|H	|游標移動到這個螢幕的最上方那一列的第一個字元
|M	|游標移動到這個螢幕的中央那一列的第一個字元
|L	|游標移動到這個螢幕的最下方那一列的第一個字元
|G	|移動到這個檔案的最後一列(常用)
|nG|	n 為數字。移動到這個檔案的第 n 列。例如 20G 則會移動到這個檔案的第 20 列(可配合 :set nu)
|gg|	移動到這個檔案的第一列，相當於 1G 啊！ (常用)

## 搜索、替换
|命令	|作用
|:----|:-----
| /word	|向游標之下尋找一個名稱為 word 的字串。例如要在檔案內搜尋 `vbird` 這個字串，就輸入 `/vbird` 即可！ (常用)
| ?word	|向游標之上尋找一個字串名稱為 `word` 的字串。
|n	|這個 n 是英文按鍵。代表『重複前一個搜尋的動作』。舉例來說， 如果剛剛我們執行 /vbird 去向下搜尋 vbird 這個字串，則按下 n 後，會向下繼續搜尋下一個名稱為 vbird 的字串。如果是執行 ?vbird 的話，那麼按下 n 則會向上繼續搜尋名稱為 vbird 的字串！
|N	|這個 N 是英文按鍵。與 n 剛好相反，為『反向』進行前一個搜尋動作。 例如 /vbird 後，按下 N 則表示『向上』搜尋 vbird 。 <br/>**使用 /word 配合 n 及 N 是非常有幫助的！可以讓你重複的找到一些你搜尋的關鍵字！**
|:n1,n2s/word1/word2/g	|n1 與 n2 為數字。在第 n1 與 n2 列之間尋找 word1 這個字串，並將該字串取代為 word2 ！舉例來說，在 100 到 200 列之間搜尋 vbird 並取代為 VBIRD 則：『:100,200s/vbird/VBIRD/g』。(常用)
|:1,$s/word1/word2/g <br>or<br> :%s/word1/word2/g	|從第一列到最後一列尋找 word1 字串，並將該字串取代為 word2 ！(常用)
|:1,$s/word1/word2/gc	|從第一列到最後一列尋找 word1 字串，並將該字串取代為 word2 ！且在取代前顯示提示字元給使用者確認 (confirm) 是否需要取代！(常用)


## 删除、复制
|命令	|作用
|:----|:-----
| x, X|在一列字當中，x 為向後刪除一個字元 (相當於 [del] 按鍵)， X 為向前刪除一個字元(相當於 [backspace] 亦即是倒退鍵) (常用)
| nx	|n 為數字，連續向後刪除 n 個字元。舉例來說，我要連續刪除 10 個字元， 『10x』。
| dd	|刪除游標所在的那一整列(常用)
| ndd	|n 為數字。刪除游標所在的向下 n 列，例如 20dd 則是刪除 20 列 (常用)
| d1G	|刪除游標所在到第一列的所有資料
| dG	|刪除游標所在到最後一列的所有資料
| d$	|刪除游標所在處，到該列的最後一個字元
| d0	|那個是數字的 0 ，刪除游標所在處，到該列的最前面一個字元
| yy	|複製游標所在的那一列(常用)
| nyy	|n 為數字。複製游標所在的向下 n 列，例如 20yy 則是複製 20 列(常用)
| y1G	|複製游標所在列到第一列的所有資料
| yG	|複製游標所在列到最後一列的所有資料
| y0	|複製游標所在的那個字元到該列行首的所有資料
| y$	|複製游標所在的那個字元到該列行尾的所有資料
| p, P|p 為將已複製的資料在游標下一列貼上，P 則為貼在游標上一列！ 舉例來說，我目前游標在第 20 列，且已經複製了 10 列資料。則按下 p 後， 那 10 列資料會貼在原本的 20 列之後，亦即由 21 列開始貼。但如果是按下 P 呢？ 那麼原本的第 20 列會被推到變成 30 列。 (常用)
|J	|將游標所在列與下一列的資料結合成同一列
|c	|重複刪除多個資料，例如向下刪除 10 列，[ 10cj ]
|u	|復原前一個動作。(常用)
|[Ctrl]+r	|重做上一個動作。(常用)
|.	|不要懷疑！這就是小數點！意思是重複前一個動作的意思。 如果你想要重複刪除、重複貼上等等動作，按下小數點『.』就好了！ (常用)


## 進入插入或取代的編輯模式

|命令	|作用
|:-----|:----
|i, I	|進入插入模式(Insert mode)：<br/> i 為『從目前游標所在處插入』， I 為『在目前所在列的第一個非空白字元處開始插入』。 (常用)
|a, A	|進入插入模式(Insert mode)：<br/> a 為『從目前游標所在的下一個字元處開始插入』， A 為『從游標所在列的最後一個字元處開始插入』。(常用)
|o, O	|進入插入模式(Insert mode)：<br/> 這是英文字母 o 的大小寫。o 為『在目前游標所在的下一列處插入新的一列』； O 為在目前游標所在處的上一列插入新的一列！(常用)
|r, R	|進入取代模式(Replace mode)：<br/>r 只會取代游標所在的那一個字元一次；R會一直取代游標所在的文字，直到按下 ESC 為止；(常用)
|[Esc]	|退出編輯模式，回到一般指令模式中(常用)

## 指令列模式的儲存、離開等指令
|命令	|作用
|:----|:-----
| :w	|將編輯的資料寫入硬碟檔案中(常用)
| :w!	|若檔案屬性為『唯讀』時，強制寫入該檔案。不過，到底能不能寫入， 還是跟你對該檔案的檔案權限有關啊！
| :q	|離開 vi (常用)
| :q!	|若曾修改過檔案，又不想儲存，使用 ! 為強制離開不儲存檔案。
| :wq	|儲存後離開，若為 :wq! 則為強制儲存後離開 (常用)
| ZZ	|這是大寫的 Z 喔！若檔案沒有更動，則不儲存離開，若檔案已經被更動過，則儲存後離開！
| :w [filename]|將編輯的資料儲存成另一個檔案（類似另存新檔）
| :r [filename]|在編輯的資料中，讀入另一個檔案的資料。亦即將 『filename』 這個檔案內容加到游標所在列後面
| :n1,n2 w [filename]	|將 n1 到 n2 的內容儲存成 filename 這個檔案。
| :! command	|暫時離開 vi 到指令列模式下執行 command 的顯示結果！例如<br/>『:! ls /home』即可在 vi 當中察看 /home 底下以 ls 輸出的檔案資訊！

## vim 的環境設定參數
|命令	|作用
|:----|:-----
| :set nu <br> :set nonu |就是設定與取消行號啊！
| :set hlsearch <br> :set nohlsearch | hlsearch 就是 high light search(高亮度搜尋)。 這個就是設定是否將搜尋的字串反白的設定值。預設值是 hlsearch
| :set autoindent <br> :set noautoindent | 是否自動縮排？autoindent 就是自動縮排。
| :set backup | 是否自動儲存備份檔？一般是 nobackup 的， 如果設定 backup 的話，那麼當你更動任何一個檔案時，則原始檔案會被另存成一個檔名為 filename~ 的檔案。 舉例來說，我們編輯 hosts ，設定 :set backup ，那麼當更動 hosts 時，在同目錄下，就會產生 hosts~ 檔名的檔案，記錄原始的 hosts 檔案內容
|:set ruler	|還記得我們提到的右下角的一些狀態列說明嗎？ 這個 ruler 就是在顯示或不顯示該設定值的啦！
|:set showmode	|這個則是，是否要顯示 --INSERT-- 之類的字眼在左下角的狀態列。
|:set backspace=(012)	|一般來說， 如果我們按下 i 進入編輯模式後，可以利用倒退鍵 (backspace) 來刪除任意字元的。 但是，某些 distribution 則不許如此。此時，我們就可以透過 backspace 來設定囉～ 當 backspace 為 2 時，就是可以刪除任意值；0 或 1 時，僅可刪除剛剛輸入的字元， 而無法刪除原本就已經存在的文字了！
|:set all	|顯示目前所有的環境參數設定值。
|:set	|顯示與系統預設值不同的設定參數， 一般來說就是你有自行變動過的設定參數啦！
| :syntax on <br> :syntax off | 是否依據程式相關語法顯示不同顏色？ 舉例來說，在編輯一個純文字檔時，如果開頭是以 # 開始，那麼該列就會變成藍色。 如果你懂得寫程式，那麼這個 :syntax on 還會主動的幫你除錯呢！但是， 如果你僅是編寫純文字檔案，要避免顏色對你的螢幕產生的干擾，則可以取消這個設定 。
| :set bg=dark <br> :set bg=light | 可用以顯示不同的顏色色調，預設是『 light 』。如果你常常發現註解的字體深藍色實在很不容易看， 那麼這裡可以設定為 dark 喔！試看看，會有不同的樣式呢！
| :set paste | 粘贴时去除格式

整體 vim 的設定值一般是放置在 `/etc/vimrc` 這個檔案，不過，不建議你修改他！ 你可以修改 `~/.vimrc` 這個檔案 (預設不存在，請你自行手動建立！)，將你所希望的設定值寫入！ 舉例來說，可以是這樣的一個檔案：

```
[dmtsai@study ~]$ vim ~/.vimrc
"這個檔案的雙引號 (") 是註解
set hlsearch            "高亮度反白
set backspace=2         "可隨時用倒退鍵刪除
set autoindent          "自動縮排
set ruler               "可顯示最後一列的狀態
set showmode            "左下角那一列的狀態
set nu                  "可以在每一列的最前面顯示行號啦！
set bg=dark             "顯示不同的底色色調
syntax on               "進行語法檢驗，顏色顯示。
```


## 區塊選擇的按鍵意義
|命令	|作用
|:----|:-----
|v	|字元選擇，會將游標經過的地方反白選擇！
|V	|列選擇，會將游標經過的列反白選擇！
|[Ctrl]+v	|區塊選擇，可以用長方形的方式選擇資料
|y	|將反白的地方複製起來
|d	|將反白的地方刪除掉
|p	|將剛剛複製的區塊，在游標所在處貼上！